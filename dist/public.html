<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>public</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel='stylesheet' href='../css/reset.css'>
<link rel="stylesheet/less" type="text/css" href="../css/my_less.css" />
<script src="../css/less.min.js" type="text/javascript"></script>
<style>
header{
	display:flex;
}
.process{
	border:1px solid #ddd;
}
.hide{
	display:none;
}
</style>
</head>
<body>
	<div id='app'>
	<header>
		<a href='javascript:history.go(-1);' class='back'>返回</a>
		<p>我要投稿</p>
		<span>投稿<span/>
	</header>
	<input type='text' placeholder="请输入标题"/>
	<p class='toFile' @click="myTrigger()">选择文件
	<input type="file" @change='myLoad()' id='my_file' class='hide' />
	</p>
	<progress v-show="hasLoaded"></progress>
	<div id='videoImg'></div>
	<video src='' controls="controls" id='video' poster='../lib/img/url.png' preload="none" ></video>
	</div>
<script src="../js/my_js.js"></script>
<script src="../js/vue.js"></script>
<script>
var vm=new Vue({
	el:"#app",
	data:{
		//进度条是否显示
		hasLoaded:false
	},
	methods:{
		//post上传文件
		myLoad:function(){
			upload("my_file",function(){
				vm.hasLoaded=true;
				//控制进度条
				<!-- video.currentTime=0; -->
			},function(){
				setTimeout(function(){
					vm.hasLoaded=false;
					//截图
					capture(0.5,videoImg);
				},1000);
			});
		},
		//触发选择文件
		myTrigger:function(){
			my_file.click();
		}
	}
});
</script>
</body>
</html>
